var dbcon = require('./config').ConnectionConfig;
var sqlhelper = require("cloud-sqlhelper")(dbcon);

var sql = "", params = {};


sql = "Select * from test;";
params = {UserName: "111"};
sqlhelper.ExecuteDataTable("db1", sql, params, function(err, data){
    console.log("sqlhelper.ExecuteTable:");
    console.log(data);
});

sql = "Select * from CodeClass;";
params = {UserName: "111"};
sqlhelper.ExecuteDataRow("core", sql, params, function(err, data){
    console.log("sqlhelper.ExecuteDataRow:");
    console.log(data);
});


sql = "Select * from test where username=@UserName; Select * from test where ID=@UserID;";
params = {UserName: "111", UserID: 2};
sqlhelper.ExecuteDataSet("db1", sql, params, function(err, data){
    console.log("\nsqlhelper.ExecuteDataSet:");
    console.log(data);
});

sql = "Select Count(1) From test";
params = {};
sqlhelper.ExecuteScalar("db1", sql, params, function(err, data){
    console.log("\nsqlhelper.ExecuteScalar:");
    console.log(data);
});

//sql = "INSERT INTO test (username) VALUES (@UserName);";
//params = {};
//params.UserName= "777";
//sqlhelper.ExecuteInsert("db1", sql, params, function(err, data){
//    console.log("\nsqlhelper.ExecuteInsert:");
//    console.log(data);
//});

//sql = 'select * from test';
//params = {};
////第1页 每页3条
//sqlhelper.ExecuteDataByPage("db1", sql, params, 1, 3, function(err, data, count){
//    console.log("sqlhelper.ExecuteDataByPage:");
//    console.log(data);
//    console.log('count: ' + count);
//    sqlhelper.EndPool();
//});